Upon completion of this lab you should be able to:

Examine the initial hurdles involved in using a higher level language interface with SQL.
Recognize XML data and insert it into your SQL databases.
Write JDBC programs to manipulate the data stored in the MySQL database.


Preparation Steps
The latest path for MySQL Connector/J is
/usr/share/java/mysql-connector-java.jar
Include it in your classpath. Below is an example of adding a line to your .cshrc file to do so. It can also be done by typing it in each session, adding it to your Eclipse, etc.
setenv CLASSPATH ./:/usr/share/java/mysql-connector-java.jar
Login into one of the state capital machines (denver, austin, springfield, etc).

Download the example code Lab9_ex.java (Links to an external site.). The database name and the password are included in the following lines in Lab4_ex.java. Please change the database name and password to your own database name and password.
//Define URL of database server for
// database named "user" on the faure.
String url =
"jdbc:mysql://faure/user";

    //Get a connection to the database for a
    // user named "user" with the password
    // "123456789".
    con = DriverManager.getConnection(
       	      url,"user", "123456789");
Compile and run the example code. If you have a table called Author and an attribute in it called AuthorID, you should get a list of the authors in it. If you want to connect to faure from home, click here (Links to an external site.) for instructions on how to do port forwarding from a windows machine, or here (Links to an external site.) for instructions on a Linux box.

Description of the Task for Module 9 Lab
In this part of the lab, you are going to add data to your existing data as if from another system that has created it. The data is passed in XML format.


Activities


Create and populate the tables from the data from lab7.


In JDBC program lab9.Lab9.java, read in and parse the activity file (Links to an external site.) in XML format. This file records checkins and checkouts. If the transaction is a checkin, simply update the corresponding record appropriately. If the transaction is a checkout, a new record is created.
Prepare and execute SQL statements inside your java program that insert this data into the appropriate relation tables.
Note: You should be able to find some Java code for parsing XML data online.
You are welcome to use this, as long as it works correctly. Here (Links to an external site.) is an example of one.



Everytime your program adds or modifies a record in a table, it should print an message to the screen to that effect. If an error is encountered, you should print a message to the screen to the specifics of the error and continue processing.


You will need to implement code to check that the book being checked out exists in the library, and that a book being checked in has a corresponding checkout record..


Once you have finished loading the data for the day's activities, run the following queries in SQL.
Print the contents of the Borrowed_by table.
For each member that has a book checked out (Last name, first name, member id), print a list of the book titles currently checked out and from which library.




When you are satisfied that your Java program works correctly, run it once again to produce an output file.

You need to submit both your lab9.Lab9.java file, your output file, and a README file (preferable, with instructions on how to run your program).
Submitting Your Assignment
Your database should be restored to initial state (end of Module 7 Lab) so your programs can be graded.
Submit
your lab9.Lab9.java file 【40 points】
your query file 【20 points】
your output file generated by a run of your compiled lab9.Lab9 program 【20 points】
your output file generated by your queries. 【20 points】
your README, if any